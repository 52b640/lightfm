machine:
  python:
    version: 3.6.1

dependencies:
  pre:
    - pip install numpy
    - pip install scipy:
        timeout: 1800
    - pip install scikit-learn
test:
  pre:
    - pip install pytest
    - pip install flake8
    - pip install black==18.6b4
  override:
    - flake8 --config .flake8rc
    - black --check lightfm
    - mv ~/lightfm/lightfm ~/lightfm/_lightfm && py.test -xv ~/lightfm/tests
